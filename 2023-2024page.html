<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>2023-2024：中央主流媒体青春化传播案例可视化 · 横版导航&清透背景</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=AlibabaPuHuiTi:wght@300;400;500;700&display=swap">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <style>
        /* ========== 全局重置 ========== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        html, body {
            width: 100%;
            height: 100%;
            overflow: hidden;
            font-family: 'AlibabaPuHuiTi', -apple-system, sans-serif;
            background: #1a0a0a;
            color: #fff;
        }

        #page-container {
            width: 640px;
            height: 1008px;
            position: relative;
            overflow: hidden;
            margin: 0 auto;
            background: url('2023-2024.png') no-repeat center center;
            background-size: cover;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }

        /* ----- 半透明遮罩层 —— 大幅降低不透明度，让背景图清晰可见 ----- */
        .overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(26, 10, 10, 0.45);  /* 原0.85 → 0.45，背景图透出 */
            z-index: 1;
        }

        .main-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 2;
            overflow-y: auto;
            overflow-x: hidden;
            padding: 0 0 80px 0;
        }

        .back-button {
            position: fixed;
            top: 15px;
            left: 15px;
            width: 45px;
            height: 45px;
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            z-index: 100;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            border: 2px solid rgba(255, 69, 0, 0.3);
            transition: all 0.3s ease;
        }

        .back-button:hover {
            transform: translateX(-3px);
            background: rgba(255, 255, 255, 1);
            border-color: rgba(255, 69, 0, 0.5);
        }

        .back-icon {
            font-size: 1.2rem;
            color: #ff4500;
        }

        .page-header {
            padding: 80px 15px 25px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .year-badge {
            display: inline-block;
            font-size: 3.5rem;
            font-weight: 900;
            color: transparent;
            margin-bottom: 8px;
            position: relative;
            background: linear-gradient(45deg, #ff8c00, #ff4500, #8b0000);
            -webkit-background-clip: text;
            background-clip: text;
            text-shadow: 0 0 20px rgba(255, 69, 0, 0.2);
        }

        .year-badge::after {
            content: '';
            position: absolute;
            bottom: -3px;
            left: 10%;
            width: 80%;
            height: 2px;
            background: linear-gradient(90deg, transparent, #ff8c00, #ff4500, transparent);
            border-radius: 2px;
        }

        .year-keyword {
            font-size: 1.6rem;
            font-weight: 600;
            color: #fff;
            margin-bottom: 12px;
            background: linear-gradient(45deg, #ff8c00, #ff4500);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        .year-subtitle {
            font-size: 1rem;
            color: rgba(255, 255, 255, 0.9);
            max-width: 580px;
            margin: 0 auto;
            line-height: 1.5;
            background: rgba(139, 0, 0, 0.3);
            padding: 15px;
            border-radius: 12px;
            border-left: 4px solid #ff4500;
            text-align: left;
        }

        /* 案例卡片 */
        .case-card {
            background: rgba(178, 34, 34, 0.9);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            margin: 0 15px 20px;
            padding: 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 
                0 10px 25px rgba(0, 0, 0, 0.4),
                0 0 0 1px rgba(255, 69, 0, 0.1) inset;
            transition: all 0.4s ease;
            position: relative;
            overflow: hidden;
        }

        .case-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 3px;
            background: linear-gradient(90deg, #ff8c00, #ff4500, #8b0000);
        }

        .case-card:hover {
            border-color: rgba(255, 69, 0, 0.3);
            box-shadow: 
                0 15px 35px rgba(255, 69, 0, 0.15),
                0 0 0 1px rgba(255, 69, 0, 0.1) inset;
            transform: translateY(-3px);
        }

        .case-title {
            font-size: 1.4rem;
            font-weight: 700;
            color: #fff;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .case-title-icon {
            color: #ff8c00;
        }

        .case-media {
            display: inline-block;
            font-size: 0.85rem;
            color: rgba(255, 255, 255, 0.7);
            background: rgba(255, 69, 0, 0.1);
            padding: 4px 12px;
            border-radius: 12px;
            margin-bottom: 15px;
            border: 1px solid rgba(255, 69, 0, 0.15);
        }

        .case-year {
            display: inline-block;
            font-size: 0.8rem;
            color: #ff8c00;
            background: rgba(0, 0, 0, 0.3);
            padding: 3px 10px;
            border-radius: 10px;
            margin-left: 10px;
            font-weight: 600;
        }

        .case-description {
            color: rgba(255, 255, 255, 0.9);
            line-height: 1.6;
            margin-bottom: 20px;
            font-size: 0.9rem;
        }

        .case-stats {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin-bottom: 20px;
        }

        .stat-item {
            background: rgba(139, 0, 0, 0.7);
            border-radius: 10px;
            padding: 12px;
            text-align: center;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .stat-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 2px;
            background: linear-gradient(90deg, #ff8c00, #ff4500);
        }

        .stat-item:hover {
            background: rgba(255, 69, 0, 0.15);
            border-color: rgba(255, 69, 0, 0.3);
            transform: translateY(-3px);
        }

        .stat-value {
            font-size: 1.5rem;
            font-weight: 700;
            color: #ff8c00;
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 0.8rem;
            color: rgba(255, 255, 255, 0.8);
        }

        .case-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }

        .tag {
            font-size: 0.8rem;
            padding: 5px 12px;
            border-radius: 15px;
            background: rgba(255, 255, 255, 0.05);
            color: rgba(255, 255, 255, 0.8);
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
        }

        .tag:hover {
            background: rgba(255, 69, 0, 0.2);
            border-color: #ff8c00;
            color: #ffd700;
        }

        /* 可视化区域 */
        .visualization-section {
            margin: 0 15px 20px;
        }

        .section-title {
            font-size: 1.2rem;
            font-weight: 600;
            color: #fff;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .section-title-icon {
            font-size: 1rem;
            color: #ff8c00;
        }

        .word-cloud-container {
            background: rgba(178, 34, 34, 0.9);
            backdrop-filter: blur(10px);
            border-radius: 12px;
            padding: 18px;
            margin-bottom: 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4);
            min-height: 200px;
        }

        .word-cloud {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            align-items: center;
            gap: 10px;
            padding: 15px;
        }

        .word {
            padding: 6px 12px;
            border-radius: 15px;
            transition: all 0.3s ease;
            cursor: pointer;
            font-weight: 500;
            display: inline-block;
        }

        .word:hover {
            transform: scale(1.2);
            z-index: 10;
        }

        .word-size-1 { font-size: 0.9rem; background: rgba(255, 140, 0, 0.2); color: #ff8c00; }
        .word-size-2 { font-size: 1.1rem; background: rgba(255, 69, 0, 0.25); color: #ff4500; }
        .word-size-3 { font-size: 1.4rem; background: rgba(178, 34, 34, 0.3); color: #ffd700; }
        .word-size-4 { font-size: 1.7rem; background: rgba(139, 0, 0, 0.35); color: #fff; }
        .word-size-5 { font-size: 2rem; background: rgba(255, 69, 0, 0.4); color: #ff8c00; }

        .network-container {
            background: rgba(178, 34, 34, 0.9);
            backdrop-filter: blur(10px);
            border-radius: 12px;
            padding: 18px;
            margin-bottom: 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4);
            height: 280px;
            position: relative;
            overflow: hidden;
        }

        .network-diagram {
            width: 100%;
            height: 230px;
            position: relative;
        }

        #d3-network {
            width: 100%;
            height: 100%;
        }

        .network-controls {
            position: absolute;
            bottom: 10px;
            right: 10px;
            display: flex;
            gap: 10px;
            z-index: 10;
        }

        .network-btn {
            width: 36px;
            height: 36px;
            background: rgba(139, 0, 0, 0.7);
            border: 1px solid rgba(255, 140, 0, 0.5);
            border-radius: 50%;
            color: #ff8c00;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1.2rem;
        }

        .network-btn:hover {
            background: rgba(255, 69, 0, 0.7);
            transform: scale(1.1);
        }

        .pie-container {
            background: rgba(178, 34, 34, 0.9);
            backdrop-filter: blur(10px);
            border-radius: 12px;
            padding: 18px;
            margin-bottom: 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4);
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .pie-chart {
            width: 180px;
            height: 180px;
            border-radius: 50%;
            background: conic-gradient(
                #ff8c00 0% 40%,
                #ff4500 40% 70%,
                #8b0000 70% 85%,
                #b22222 85% 100%
            );
            position: relative;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.4);
            margin-bottom: 20px;
        }

        .pie-chart::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 80px;
            height: 80px;
            background: rgba(139, 0, 0, 0.9);
            border-radius: 50%;
        }

        .pie-legend {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 12px;
            width: 100%;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .legend-color {
            width: 12px;
            height: 12px;
            border-radius: 2px;
        }

        .legend-text {
            font-size: 0.85rem;
            color: rgba(255, 255, 255, 0.9);
        }

        .bar-container {
            background: rgba(178, 34, 34, 0.9);
            backdrop-filter: blur(10px);
            border-radius: 12px;
            padding: 18px;
            margin-bottom: 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4);
        }

        .bar-chart {
            display: flex;
            align-items: flex-end;
            justify-content: space-around;
            height: 180px;
            padding: 15px 0;
            position: relative;
        }

        .bar-group {
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 22%;
        }

        .bar {
            width: 22px;
            border-radius: 5px 5px 0 0;
            margin: 0 3px;
            transition: height 0.8s ease;
            position: relative;
            background: linear-gradient(to top, #ff8c00, #ff4500);
            box-shadow: 0 -5px 10px rgba(255, 69, 0, 0.3);
        }

        .bar-label {
            margin-top: 8px;
            font-size: 0.8rem;
            color: rgba(255, 255, 255, 0.8);
            text-align: center;
        }

        .bar-value {
            position: absolute;
            top: -22px;
            left: 0;
            width: 100%;
            text-align: center;
            font-weight: 600;
            color: #ffd700;
            font-size: 0.8rem;
        }

        /* 互动模拟器 */
        .interactive-section {
            margin: 0 15px 20px;
        }

        .interactive-container {
            background: rgba(178, 34, 34, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 20px;
            border: 1px solid rgba(255, 140, 0, 0.3);
            box-shadow: 
                0 15px 40px rgba(0, 0, 0, 0.5),
                0 0 0 1px rgba(255, 140, 0, 0.2) inset;
            position: relative;
            overflow: hidden;
        }

        .interactive-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: #ff8c00;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 12px;
            text-shadow: 0 0 10px rgba(255, 140, 0, 0.3);
        }

        .interactive-subtitle {
            color: rgba(255, 255, 255, 0.8);
            margin-bottom: 30px;
            line-height: 1.6;
            max-width: 800px;
        }

        .simulator {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }

        .simulator-controls {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .control-group {
            background: rgba(139, 0, 0, 0.6);
            border-radius: 12px;
            padding: 15px;
            border-left: 4px solid #ff8c00;
        }

        .control-title {
            font-size: 1.1rem;
            font-weight: 600;
            color: #ffd700;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .control-options {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .control-option {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 1px solid transparent;
        }

        .control-option:hover {
            background: rgba(255, 69, 0, 0.2);
            transform: translateX(5px);
        }

        .control-option.selected {
            background: rgba(255, 69, 0, 0.3);
            border-color: #ff8c00;
            box-shadow: 0 0 10px rgba(255, 140, 0, 0.3);
        }

        .option-checkbox {
            width: 18px;
            height: 18px;
            border-radius: 50%;
            border: 2px solid #ff8c00;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.7rem;
            color: transparent;
            transition: all 0.3s ease;
        }

        .control-option.selected .option-checkbox {
            background: #ff8c00;
            color: #8b0000;
        }

        .option-label {
            flex: 1;
            font-weight: 500;
            color: rgba(255, 255, 255, 0.9);
        }

        .option-desc {
            font-size: 0.85rem;
            color: rgba(255, 255, 255, 0.7);
            margin-top: 5px;
        }

        .simulator-preview {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 12px;
            padding: 20px;
            display: flex;
            flex-direction: column;
            border: 2px solid rgba(255, 140, 0, 0.2);
        }

        .preview-title {
            font-size: 1.2rem;
            font-weight: 600;
            color: #ff8c00;
            margin-bottom: 15px;
            text-align: center;
        }

        .preview-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 12px;
            overflow-y: auto;
            max-height: 250px;
        }

        .preview-item {
            background: rgba(139, 0, 0, 0.5);
            border-radius: 10px;
            padding: 12px;
            border-left: 3px solid #ff4500;
        }

        .preview-item-title {
            font-weight: 600;
            color: #ffd700;
            margin-bottom: 6px;
            font-size: 0.95rem;
        }

        .preview-item-desc {
            font-size: 0.85rem;
            color: rgba(255, 255, 255, 0.8);
            line-height: 1.5;
        }

        .simulator-actions {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 15px;
        }

        .action-btn {
            padding: 10px 20px;
            border-radius: 12px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            border: none;
            font-family: inherit;
            font-size: 0.95rem;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .action-btn.generate {
            background: linear-gradient(135deg, #ff8c00, #ff4500);
            color: white;
        }

        .action-btn.reset {
            background: rgba(255, 255, 255, 0.1);
            color: rgba(255, 255, 255, 0.9);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .action-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(255, 69, 0, 0.4);
        }

        .result-container {
            background: rgba(35, 75, 52, 0.8);
            border-radius: 12px;
            padding: 20px;
            margin-top: 25px;
            border-left: 4px solid #ff8c00;
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .result-container.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .result-title {
            font-weight: 600;
            color: #ff8c00;
            margin-bottom: 15px;
            font-size: 1.2rem;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .result-stats {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            margin-bottom: 20px;
        }

        .result-stat {
            background: rgba(139, 0, 0, 0.6);
            border-radius: 10px;
            padding: 12px;
            text-align: center;
        }

        .result-stat-value {
            font-size: 1.5rem;
            font-weight: 700;
            color: #ffd700;
            margin-bottom: 5px;
        }

        .result-stat-label {
            font-size: 0.8rem;
            color: rgba(255, 255, 255, 0.8);
        }

        .result-details {
            color: rgba(255, 255, 255, 0.9);
            line-height: 1.6;
            margin-bottom: 15px;
            font-size: 0.9rem;
        }

        .result-features {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 15px;
        }

        .result-feature {
            background: rgba(255, 69, 0, 0.2);
            color: #ff8c00;
            padding: 6px 12px;
            border-radius: 15px;
            font-size: 0.85rem;
            border: 1px solid rgba(255, 140, 0, 0.3);
        }

        /* ========== 底部时间轴导航 ========== */
        .timeline-nav {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-top: 1px solid rgba(255, 69, 0, 0.2);
            z-index: 1000;
            padding: 12px 15px;
        }

        .nav-buttons {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 580px;
            margin: 0 auto;
        }

        .nav-btn {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px 12px;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            color: #333;
            border: 1px solid transparent;
            font-size: 0.8rem;
        }

        .nav-btn:hover {
            background: rgba(255, 69, 0, 0.1);
            border-color: rgba(255, 69, 0, 0.3);
            transform: translateY(-3px);
        }

        .nav-btn.prev {
            flex-direction: row;
        }

        .nav-btn.next {
            flex-direction: row-reverse;
        }

        .nav-icon {
            font-size: 0.9rem;
            color: #ff4500;
        }

        .nav-text {
            font-weight: 500;
        }

        .nav-year {
            font-size: 0.7rem;
            opacity: 0.7;
        }

        .timeline-btn {
            padding: 8px 15px;
            background: linear-gradient(135deg, #ff8c00, #ff4500);
            border-radius: 10px;
            color: white;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            border: none;
            font-family: inherit;
            font-size: 0.8rem;
            text-decoration: none;
            display: inline-block;
        }

        .timeline-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(255, 69, 0, 0.3);
        }

        /* ========== 响应式调整 ========== */
        @media (max-width: 640px) {
            #page-container {
                width: 100%;
                height: 100%;
                box-shadow: none;
            }
            .case-stats {
                grid-template-columns: repeat(2, 1fr);
            }
            .simulator {
                grid-template-columns: 1fr;
            }
            .nav-buttons {
                flex-direction: row;
                gap: 8px;
            }
            .nav-btn {
                width: auto;
                justify-content: center;
                padding: 8px 10px;
            }
            .timeline-btn {
                padding: 8px 12px;
                font-size: 0.75rem;
            }
        }

        /* ----- 重写480px及以下：底部导航强制横排，背景更透 ----- */
        @media (max-width: 480px) {
            .page-header {
                padding: 80px 15px 25px;
            }
            .year-badge {
                font-size: 3rem;
            }
            .case-card, .visualization-section, .interactive-section {
                margin-left: 10px;
                margin-right: 10px;
            }
            .case-stats {
                grid-template-columns: 1fr;
            }
            .stat-item {
                padding: 10px;
            }
            .network-container {
                height: 250px;
            }
            .network-diagram {
                height: 200px;
            }
            .result-stats {
                grid-template-columns: 1fr;
            }

            /* ---------- 底部导航：坚决横排，三按钮等宽一行显示 ---------- */
            .nav-buttons {
                flex-direction: row !important;          /* 横排 */
                flex-wrap: nowrap !important;           /* 禁止换行 */
                gap: 6px;
                justify-content: center;
            }
            .nav-btn, 
            .timeline-btn {
                width: auto !important;                 /* 取消100%宽度 */
                flex: 1 1 0;                            /* 等分宽度 */
                min-width: 0;                           /* 允许压缩 */
                padding: 8px 4px;                       /* 水平内边距减少 */
                font-size: 0.68rem;                     /* 字体略小 */
                margin: 0;
                display: flex;
                align-items: center;
                justify-content: center;
                white-space: normal;                   /* 允许文字换行 */
                line-height: 1.2;
            }
            .nav-btn .nav-text {
                white-space: normal;
                font-size: 0.65rem;
            }
            .nav-year {
                font-size: 0.55rem;
                white-space: normal;
            }
            .timeline-btn {
                padding: 8px 4px;
                font-size: 0.68rem;
                white-space: nowrap;                  /* “返回时间轴”不换行 */
                flex: 1 1 0;
            }
            /* 移除之前可能干扰的宽度设置 */
            .nav-btn.prev, .nav-btn.next {
                flex: 1 1 0;
            }
            .nav-icon {
                font-size: 0.8rem;
            }
        }

        /* 极小屏（如iPhone SE 320px）再微调 */
        @media (max-width: 360px) {
            .nav-btn, .timeline-btn {
                font-size: 0.6rem;
                padding: 6px 2px;
            }
            .nav-year {
                font-size: 0.5rem;
            }
            .nav-icon {
                font-size: 0.7rem;
            }
        }
    </style>
</head>
<body>
    <div id="page-container">
        <!-- 半透明遮罩层：不透明度已降低至0.45，背景图清晰可见 -->
        <div class="overlay"></div>
        
        <!-- 返回按钮 -->
        <div class="back-button" id="backButton">
            <div class="back-icon">
                <i class="fas fa-arrow-left"></i>
            </div>
        </div>
        
        <!-- 主内容容器 -->
        <div class="main-container" id="mainContainer">
            <!-- 页面标题区域 -->
            <div class="page-header">
                <div class="year-badge">2023-2024</div>
                <h1 class="year-keyword">赋能·共情</h1>
                <div class="year-subtitle">
                    <p>2023-2024年，中央主流媒体的青春化改革进入深水区，从形式创新走向价值引领。光明网的"理响中国之铿锵有理"系列通过青年专家视角实现理论传播的语态转化；人民日报社在全国两会报道中运用AI技术驱动内容创新；中央广播电视总台春晚则通过融入青年文化实现国民IP的焕新。这三个典型案例分别代表了语态转化、技术驱动和国民IP焕新三种路径，共同展现了主流媒体如何以青春化传播构建与年轻一代的价值连接，从单向传播转变为双向对话，从吸引眼球到赢得认同，实现了主流价值与青年文化的有机融合。</p>
                </div>
            </div>
            
            <!-- 案例1：光明网 -->
            <div class="case-card">
                <h2 class="case-title">
                    <i class="fas fa-microphone-alt case-title-icon"></i>
                    "理响中国之铿锵有理"系列理论视频
                    <span class="case-year">2023</span>
                </h2>
                <div class="case-media">光明网 × 中央党校（国家行政学院）</div>
                
                <p class="case-description">
                    作为网上重大主题宣传重点项目，该系列邀请13位"80后、90后"党校青年专家，用青年视角和生动故事解读党的创新理论。
                    突破传统理论宣传的刻板印象，以短视频、动漫、访谈等多种形式呈现，推动理论传播"活起来""潮起来"，
                    是主流媒体用青春语态进行理论"破圈"传播的标志性探索。
                </p>
                
                <div class="case-stats">
                    <div class="stat-item">
                        <div class="stat-value">13位</div>
                        <div class="stat-label">青年专家参与</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value">80/90后</div>
                        <div class="stat-label">主讲人年龄</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value">全网覆盖</div>
                        <div class="stat-label">传播范围</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value">语态转化</div>
                        <div class="stat-label">核心策略</div>
                    </div>
                </div>
                
                <div class="case-tags">
                    <div class="tag">理论传播</div>
                    <div class="tag">青年专家</div>
                    <div class="tag">语态转化</div>
                    <div class="tag">短视频</div>
                    <div class="tag">破圈传播</div>
                    <div class="tag">价值引领</div>
                </div>
            </div>
            
            <!-- 案例2：人民日报 -->
            <div class="case-card">
                <h2 class="case-title">
                    <i class="fas fa-robot case-title-icon"></i>
                    全国两会报道"年轻态"创新
                    <span class="case-year">2024</span>
                </h2>
                <div class="case-media">人民日报社新媒体中心</div>
                
                <p class="case-description">
                    2024年全国两会期间，人民日报新媒体中心运用AI生成视频、互动H5、动态数据可视化等前沿技术，
                    推出《江山如此多娇》AI生成视频、"甲骨文穿越"动画、"早安，我的中国"互动话题等一系列创新产品。
                    将严肃政治议程转化为青年喜闻乐见的融媒体产品，相关产品全网阅读量动辄数亿，是年度重大主题报道年轻化的最集中展现。
                </p>
                
                <div class="case-stats">
                    <div class="stat-item">
                        <div class="stat-value">4.6亿+</div>
                        <div class="stat-label">《江山如此多娇》播放</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value">AI生成</div>
                        <div class="stat-label">核心技术</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value">互动H5</div>
                        <div class="stat-label">创新形式</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value">技术驱动</div>
                        <div class="stat-label">核心策略</div>
                    </div>
                </div>
                
                <div class="case-tags">
                    <div class="tag">AI技术</div>
                    <div class="tag">两会报道</div>
                    <div class="tag">互动传播</div>
                    <div class="tag">数据可视化</div>
                    <div class="tag">H5产品</div>
                    <div class="tag">创意设计</div>
                </div>
            </div>
            
            <!-- 案例3：中央广播电视总台 -->
            <div class="case-card">
                <h2 class="case-title">
                    <i class="fas fa-tv case-title-icon"></i>
                    龙年春晚"人民的春晚"理念深化
                    <span class="case-year">2024</span>
                </h2>
                <div class="case-media">中央广播电视总台</div>
                
                <p class="case-description">
                    2024年龙年春晚以"人民的春晚"为核心理念，数据显示15-44岁年轻用户占比达51.59%，首次成为收看主力军。
                    节目内容上，《看动画片的我们长大了》等节目引发代际共鸣，技术创新上运用XR、竖屏直播等多维呈现方式，
                    实现了国民级IP的年轻化转型成功，官方数据证实其已赢得半数以上年轻观众，影响极为广泛。
                </p>
                
                <div class="case-stats">
                    <div class="stat-item">
                        <div class="stat-value">51.59%</div>
                        <div class="stat-label">年轻用户占比</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value">15-44岁</div>
                        <div class="stat-label">主力观众年龄</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value">XR技术</div>
                        <div class="stat-label">创新应用</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value">国民IP焕新</div>
                        <div class="stat-label">核心策略</div>
                    </div>
                </div>
                
                <div class="case-tags">
                    <div class="tag">国民IP</div>
                    <div class="tag">春晚</div>
                    <div class="tag">代际共鸣</div>
                    <div class="tag">技术创新</div>
                    <div class="tag">竖屏直播</div>
                    <div class="tag">文化盛事</div>
                </div>
            </div>
            
            <!-- 数据可视化区域 -->
            <div class="visualization-section">
                <h2 class="section-title">
                    <i class="fas fa-chart-bar section-title-icon"></i>
                    青春化传播数据可视化分析
                </h2>
                
                <div class="word-cloud-container">
                    <h3 class="section-title">
                        <i class="fas fa-cloud section-title-icon"></i>
                        青春化传播关键词云
                    </h3>
                    <div class="word-cloud" id="wordCloud"></div>
                </div>
                
                <div class="network-container">
                    <h3 class="section-title">
                        <i class="fas fa-project-diagram section-title-icon"></i>
                        青春化传播生态网络
                    </h3>
                    <div class="network-diagram">
                        <svg id="d3-network"></svg>
                        <div class="network-controls">
                            <div class="network-btn" id="zoomInBtn">
                                <i class="fas fa-search-plus"></i>
                            </div>
                            <div class="network-btn" id="zoomOutBtn">
                                <i class="fas fa-search-minus"></i>
                            </div>
                            <div class="network-btn" id="resetViewBtn">
                                <i class="fas fa-expand-arrows-alt"></i>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="pie-container">
                    <h3 class="section-title">
                        <i class="fas fa-chart-pie section-title-icon"></i>
                        青春化传播策略分布
                    </h3>
                    <div class="pie-chart"></div>
                    <div class="pie-legend">
                        <div class="legend-item">
                            <div class="legend-color" style="background-color: #ff8c00;"></div>
                            <div class="legend-text">语态转化 (40%)</div>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color" style="background-color: #ff4500;"></div>
                            <div class="legend-text">技术驱动 (30%)</div>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color" style="background-color: #8b0000;"></div>
                            <div class="legend-text">IP焕新 (15%)</div>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color" style="background-color: #b22222;"></div>
                            <div class="legend-text">生态合作 (15%)</div>
                        </div>
                    </div>
                </div>
                
                <div class="bar-container">
                    <h3 class="section-title">
                        <i class="fas fa-chart-line section-title-icon"></i>
                        青春化传播效果对比
                    </h3>
                    <div class="bar-chart" id="barChart"></div>
                </div>
            </div>
            
            <!-- 复杂的H5互动区域 -->
            <div class="interactive-section">
                <div class="interactive-container">
                    <h2 class="interactive-title">
                        <i class="fas fa-gamepad"></i>
                        青春化传播策略模拟器
                    </h2>
                    <p class="interactive-subtitle">
                        模拟设计主流媒体的青春化传播方案，选择不同策略组合，生成个性化传播方案报告。
                    </p>
                    
                    <div class="simulator">
                        <div class="simulator-controls">
                            <div class="control-group">
                                <div class="control-title">
                                    <i class="fas fa-chess-queen"></i> 选择核心策略
                                </div>
                                <div class="control-options" id="strategyOptions">
                                    <div class="control-option" data-strategy="voice">
                                        <div class="option-checkbox"><i class="fas fa-check"></i></div>
                                        <div>
                                            <div class="option-label">语态转化</div>
                                            <div class="option-desc">用青年语言重构严肃内容</div>
                                        </div>
                                    </div>
                                    <div class="control-option" data-strategy="tech">
                                        <div class="option-checkbox"><i class="fas fa-check"></i></div>
                                        <div>
                                            <div class="option-label">技术驱动</div>
                                            <div class="option-desc">运用AI、VR等技术增强互动</div>
                                        </div>
                                    </div>
                                    <div class="control-option" data-strategy="ip">
                                        <div class="option-checkbox"><i class="fas fa-check"></i></div>
                                        <div>
                                            <div class="option-label">IP焕新</div>
                                            <div class="option-desc">重塑国民级IP吸引年轻受众</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="control-group">
                                <div class="control-title">
                                    <i class="fas fa-tv"></i> 选择目标媒体
                                </div>
                                <div class="control-options" id="mediaOptions">
                                    <div class="control-option" data-media="gmw">
                                        <div class="option-checkbox"><i class="fas fa-check"></i></div>
                                        <div>
                                            <div class="option-label">光明网</div>
                                            <div class="option-desc">理论传播与价值引领</div>
                                        </div>
                                    </div>
                                    <div class="control-option" data-media="rmrb">
                                        <div class="option-checkbox"><i class="fas fa-check"></i></div>
                                        <div>
                                            <div class="option-label">人民日报</div>
                                            <div class="option-desc">重大主题报道创新</div>
                                        </div>
                                    </div>
                                    <div class="control-option" data-media="cctv">
                                        <div class="option-checkbox"><i class="fas fa-check"></i></div>
                                        <div>
                                            <div class="option-label">央视总台</div>
                                            <div class="option-desc">国民级文化IP运营</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="control-group">
                                <div class="control-title">
                                    <i class="fas fa-users"></i> 选择目标受众
                                </div>
                                <div class="control-options" id="audienceOptions">
                                    <div class="control-option" data-audience="genz">
                                        <div class="option-checkbox"><i class="fas fa-check"></i></div>
                                        <div>
                                            <div class="option-label">Z世代 (18-24岁)</div>
                                            <div class="option-desc">数字原住民，重视体验与认同</div>
                                        </div>
                                    </div>
                                    <div class="control-option" data-audience="millennials">
                                        <div class="option-checkbox"><i class="fas fa-check"></i></div>
                                        <div>
                                            <div class="option-label">千禧一代 (25-34岁)</div>
                                            <div class="option-desc">职场主力，关注现实议题</div>
                                        </div>
                                    </div>
                                    <div class="control-option" data-audience="students">
                                        <div class="option-checkbox"><i class="fas fa-check"></i></div>
                                        <div>
                                            <div class="option-label">高校学生</div>
                                            <div class="option-desc">思想活跃，热衷知识分享</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="simulator-preview">
                            <div class="preview-title">方案预览</div>
                            <div class="preview-content" id="previewContent"></div>
                        </div>
                    </div>
                    
                    <div class="simulator-actions">
                        <button class="action-btn generate" id="generateBtn">
                            <i class="fas fa-magic"></i> 生成传播方案
                        </button>
                        <button class="action-btn reset" id="resetBtn">
                            <i class="fas fa-redo"></i> 重置选择
                        </button>
                    </div>
                    
                    <div class="result-container" id="resultContainer">
                        <div class="result-title">
                            <i class="fas fa-chart-line"></i> 您的青春化传播方案
                        </div>
                        <div class="result-stats" id="resultStats"></div>
                        <div class="result-details" id="resultDetails"></div>
                        <div class="result-features" id="resultFeatures"></div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- 时间线导航 - 已修改为强制横排，三按钮一行显示 -->
        <div class="timeline-nav">
            <div class="nav-buttons">
                <a href="https://sdwhsy123.github.io/No.1/2021-2022page.html" class="nav-btn prev">
                    <i class="fas fa-chevron-left nav-icon"></i>
                    <div class="nav-text">
                        <div>2021-2022：探索·破圈</div>
                        <div class="nav-year">形式创新×平台合作×初步尝试</div>
                    </div>
                </a>
                
                <a href="https://sdwhsy123.github.io/No.1/timepage.html" class="timeline-btn">
                    <i class="fas fa-stream"></i> 返回时间轴
                </a>
                
                <a href="https://sdwhsy123.github.io/No.1/2025page.html" class="nav-btn next">
                    <div class="nav-text">
                        <div>2025：智能·共生</div>
                        <div class="nav-year">AIGC×人机协同×沉浸式传播</div>
                    </div>
                    <i class="fas fa-chevron-right nav-icon"></i>
                </a>
            </div>
        </div>
    </div>

    <script>
        // 页面初始化 (保持不变，功能完整)
        document.addEventListener('DOMContentLoaded', function() {
            const backButton = document.getElementById('backButton');
            const mainContainer = document.getElementById('mainContainer');
            const wordCloud = document.getElementById('wordCloud');
            const barChart = document.getElementById('barChart');
            
            const wordCloudData = [
                { text: '青春化', size: 5 }, { text: '语态转化', size: 4 }, { text: '技术驱动', size: 5 },
                { text: '价值引领', size: 3 }, { text: 'IP焕新', size: 4 }, { text: 'AI技术', size: 3 },
                { text: '互动传播', size: 3 }, { text: '青年专家', size: 2 }, { text: '短视频', size: 2 },
                { text: '破圈传播', size: 4 }, { text: '代际共鸣', size: 3 }, { text: 'XR技术', size: 2 },
                { text: '数据可视化', size: 2 }, { text: 'H5产品', size: 2 }, { text: '双向对话', size: 4 },
                { text: '创意设计', size: 2 }, { text: '竖屏直播', size: 2 }, { text: '文化融合', size: 3 },
                { text: '主流媒体', size: 4 }, { text: '青年文化', size: 3 }
            ];
            
            const barData = [
                { label: '光明网', values: [85, 70, 65], colors: ['#ff8c00', '#ff4500', '#b22222'] },
                { label: '人民日报', values: [90, 88, 82], colors: ['#ff8c00', '#ff4500', '#b22222'] },
                { label: '央视总台', values: [92, 85, 80], colors: ['#ff8c00', '#ff4500', '#b22222'] },
                { label: '行业平均', values: [70, 65, 60], colors: ['#ff8c00', '#ff4500', '#b22222'] }
            ];
            
            const simulatorData = {
                strategies: {
                    voice: { name: '语态转化', description: '将宏大、严肃的内容用青年语言和叙事方式重新"翻译"，实现价值传播的"破圈"。', impact: 85, features: ['青年专家解读', '故事化表达', '短视频呈现', '情感共鸣'] },
                    tech: { name: '技术驱动', description: '运用AI、VR/AR、大数据等前沿技术，让内容变得酷炫、好玩、可参与。', impact: 90, features: ['AI生成内容', '交互式体验', '数据可视化', '沉浸式呈现'] },
                    ip: { name: 'IP焕新', description: '在国民级平台主动拥抱青年文化，实现代际共鸣与品牌年轻化。', impact: 88, features: ['文化符号重塑', '年轻主创团队', '社交媒体联动', '代际对话'] }
                },
                media: {
                    gmw: { name: '光明网', description: '擅长理论传播与价值引领，通过青年专家实现理论内容的青春化表达。', compatibility: { voice: 95, tech: 70, ip: 60 } },
                    rmr: { name: '人民日报', description: '在重大主题报道中创新，运用前沿技术提升内容的互动性和传播力。', compatibility: { voice: 80, tech: 95, ip: 75 } },
                    cctv: { name: '央视总台', description: '运营国民级文化IP，通过技术创新和内容创新吸引年轻观众。', compatibility: { voice: 70, tech: 85, ip: 95 } }
                },
                audiences: {
                    genz: { name: 'Z世代 (18-24岁)', description: '数字原住民，重视体验感与身份认同，偏好短视频和互动内容。', preference: { voice: 80, tech: 95, ip: 85 } },
                    millennials: { name: '千禧一代 (25-34岁)', description: '职场主力，关注现实议题和社会价值，偏好深度内容和实用信息。', preference: { voice: 90, tech: 85, ip: 80 } },
                    students: { name: '高校学生', description: '思想活跃，热衷知识分享和社群互动，偏好创新表达和思辨内容。', preference: { voice: 95, tech: 90, ip: 75 } }
                }
            };
            
            let userSelections = { strategy: null, media: null, audience: null };
            
            function createWordCloud() {
                wordCloud.innerHTML = '';
                const shuffledData = [...wordCloudData].sort(() => Math.random() - 0.5);
                shuffledData.forEach(word => {
                    const wordElement = document.createElement('div');
                    wordElement.className = `word word-size-${word.size}`;
                    wordElement.textContent = word.text;
                    wordElement.addEventListener('click', function() {
                        showNotification(`关键词: ${word.text}`);
                        animateWord(this);
                    });
                    wordCloud.appendChild(wordElement);
                });
            }
            
            function createNetworkDiagram() {
                const width = document.querySelector('#d3-network').parentElement.clientWidth;
                const height = document.querySelector('#d3-network').parentElement.clientHeight;
                d3.select("#d3-network").html("");
                const svg = d3.select("#d3-network").attr("width", width).attr("height", height);
                const g = svg.append("g");
                const zoom = d3.zoom().scaleExtent([0.5, 3]).on("zoom", (event) => { g.attr("transform", event.transform); });
                svg.call(zoom);
                const nodes = [
                    { id: "青春化传播", group: 1, radius: 20 }, { id: "光明网", group: 2, radius: 15 },
                    { id: "人民日报", group: 2, radius: 16 }, { id: "央视总台", group: 2, radius: 17 },
                    { id: "语态转化", group: 3, radius: 13 }, { id: "技术驱动", group: 3, radius: 14 },
                    { id: "IP焕新", group: 3, radius: 13 }, { id: "青年专家", group: 4, radius: 12 },
                    { id: "年轻用户", group: 4, radius: 14 }, { id: "Z世代", group: 4, radius: 13 },
                    { id: "AI技术", group: 5, radius: 12 }, { id: "XR/AR", group: 5, radius: 11 },
                    { id: "数据可视化", group: 5, radius: 12 }
                ];
                const links = [
                    { source: "青春化传播", target: "光明网" }, { source: "青春化传播", target: "人民日报" },
                    { source: "青春化传播", target: "央视总台" }, { source: "光明网", target: "语态转化" },
                    { source: "人民日报", target: "技术驱动" }, { source: "央视总台", target: "IP焕新" },
                    { source: "语态转化", target: "青年专家" }, { source: "技术驱动", target: "年轻用户" },
                    { source: "IP焕新", target: "Z世代" }, { source: "技术驱动", target: "AI技术" },
                    { source: "技术驱动", target: "XR/AR" }, { source: "技术驱动", target: "数据可视化" },
                    { source: "光明网", target: "青年专家" }, { source: "人民日报", target: "年轻用户" },
                    { source: "央视总台", target: "Z世代" }
                ];
                const simulation = d3.forceSimulation(nodes)
                    .force("link", d3.forceLink(links).id(d => d.id).distance(70))
                    .force("charge", d3.forceManyBody().strength(-150))
                    .force("center", d3.forceCenter(width / 2, height / 2))
                    .force("collision", d3.forceCollide().radius(d => d.radius + 5));
                const link = g.append("g").attr("class", "links").selectAll("line").data(links).enter().append("line").attr("stroke", "#ff8c00").attr("stroke-opacity", 0.6).attr("stroke-width", 2);
                const node = g.append("g").attr("class", "nodes").selectAll("circle").data(nodes).enter().append("circle").attr("r", d => d.radius).attr("fill", d => { const colors = { 1: "#ff4500", 2: "#ff8c00", 3: "#b22222", 4: "#ffd700", 5: "#daa520" }; return colors[d.group]; }).attr("stroke", "#fff").attr("stroke-width", 2).call(d3.drag().on("start", dragstarted).on("drag", dragged).on("end", dragended));
                const labels = g.append("g").attr("class", "labels").selectAll("text").data(nodes).enter().append("text").text(d => d.id).attr("font-size", d => Math.max(8, d.radius / 1.5)).attr("dx", 0).attr("dy", ".35em").attr("text-anchor", "middle").attr("fill", "#fff").attr("font-weight", "bold").attr("pointer-events", "none");
                node.on("mouseover", function(event, d) {
                    d3.select(this).transition().duration(200).attr("r", d.radius * 1.3);
                    const connectedLinks = links.filter(l => l.source.id === d.id || l.target.id === d.id);
                    const connectedNodeIds = new Set();
                    connectedLinks.forEach(l => { if (l.source.id === d.id) connectedNodeIds.add(l.target.id); if (l.target.id === d.id) connectedNodeIds.add(l.source.id); });
                    link.transition().duration(200).attr("stroke-opacity", l => (l.source.id === d.id || l.target.id === d.id) ? 1 : 0.2).attr("stroke-width", l => (l.source.id === d.id || l.target.id === d.id) ? 3 : 2);
                    node.transition().duration(200).attr("opacity", n => n.id === d.id || connectedNodeIds.has(n.id) ? 1 : 0.3);
                    labels.transition().duration(200).attr("opacity", n => n.id === d.id || connectedNodeIds.has(n.id) ? 1 : 0.3);
                    showNotification(`节点: ${d.id}`);
                }).on("mouseout", function(event, d) {
                    d3.select(this).transition().duration(200).attr("r", d.radius);
                    link.transition().duration(200).attr("stroke-opacity", 0.6).attr("stroke-width", 2);
                    node.transition().duration(200).attr("opacity", 1);
                    labels.transition().duration(200).attr("opacity", 1);
                });
                simulation.on("tick", () => {
                    link.attr("x1", d => d.source.x).attr("y1", d => d.source.y).attr("x2", d => d.target.x).attr("y2", d => d.target.y);
                    node.attr("cx", d => d.x).attr("cy", d => d.y);
                    labels.attr("x", d => d.x).attr("y", d => d.y);
                });
                function dragstarted(event, d) { if (!event.active) simulation.alphaTarget(0.3).restart(); d.fx = d.x; d.fy = d.y; }
                function dragged(event, d) { d.fx = event.x; d.fy = event.y; }
                function dragended(event, d) { if (!event.active) simulation.alphaTarget(0); d.fx = null; d.fy = null; }
                const initialScale = 0.8; const initialX = (width - width * initialScale) / 2; const initialY = (height - height * initialScale) / 2;
                svg.call(zoom.transform, d3.zoomIdentity.translate(initialX, initialY).scale(initialScale));
                document.getElementById('zoomInBtn').addEventListener('click', () => { svg.transition().duration(300).call(zoom.scaleBy, 1.3); });
                document.getElementById('zoomOutBtn').addEventListener('click', () => { svg.transition().duration(300).call(zoom.scaleBy, 0.7); });
                document.getElementById('resetViewBtn').addEventListener('click', () => { svg.transition().duration(300).call(zoom.transform, d3.zoomIdentity.translate(initialX, initialY).scale(initialScale)); });
            }
            
            function createBarChart() {
                barChart.innerHTML = '';
                barData.forEach((group, groupIndex) => {
                    const barGroup = document.createElement('div'); barGroup.className = 'bar-group';
                    for (let i = 0; i < 3; i++) {
                        const bar = document.createElement('div'); bar.className = 'bar';
                        bar.style.height = '0%'; bar.style.background = `linear-gradient(to top, ${group.colors[i]}, ${darkenColor(group.colors[i], 20)})`;
                        const barValue = document.createElement('div'); barValue.className = 'bar-value'; barValue.textContent = `${group.values[i]}%`;
                        bar.appendChild(barValue); barGroup.appendChild(bar);
                        setTimeout(() => { bar.style.height = `${group.values[i]}%`; }, 100 + (groupIndex * 100) + (i * 50));
                    }
                    const barLabel = document.createElement('div'); barLabel.className = 'bar-label'; barLabel.textContent = group.label;
                    barGroup.appendChild(barLabel); barChart.appendChild(barGroup);
                });
            }
            
            function initSimulator() {
                document.querySelectorAll('#strategyOptions .control-option').forEach(opt => opt.addEventListener('click', function() {
                    document.querySelectorAll('#strategyOptions .control-option').forEach(o => o.classList.remove('selected'));
                    this.classList.add('selected'); userSelections.strategy = this.getAttribute('data-strategy'); updatePreview();
                }));
                document.querySelectorAll('#mediaOptions .control-option').forEach(opt => opt.addEventListener('click', function() {
                    document.querySelectorAll('#mediaOptions .control-option').forEach(o => o.classList.remove('selected'));
                    this.classList.add('selected'); userSelections.media = this.getAttribute('data-media'); updatePreview();
                }));
                document.querySelectorAll('#audienceOptions .control-option').forEach(opt => opt.addEventListener('click', function() {
                    document.querySelectorAll('#audienceOptions .control-option').forEach(o => o.classList.remove('selected'));
                    this.classList.add('selected'); userSelections.audience = this.getAttribute('data-audience'); updatePreview();
                }));
                document.getElementById('generateBtn').addEventListener('click', generatePlan);
                document.getElementById('resetBtn').addEventListener('click', resetSimulator);
                updatePreview();
            }
            
            function updatePreview() {
                const previewContent = document.getElementById('previewContent'); previewContent.innerHTML = '';
                if (!userSelections.strategy && !userSelections.media && !userSelections.audience) {
                    previewContent.innerHTML = `<div class="preview-item"><div class="preview-item-title">等待选择</div><div class="preview-item-desc">请选择策略、媒体和受众以预览方案</div></div>`;
                    return;
                }
                if (userSelections.strategy) { const s = simulatorData.strategies[userSelections.strategy]; previewContent.innerHTML += `<div class="preview-item"><div class="preview-item-title">策略: ${s.name}</div><div class="preview-item-desc">${s.description}</div></div>`; }
                if (userSelections.media) { const mediaKey = userSelections.media === 'rmrb' ? 'rmr' : userSelections.media; const m = simulatorData.media[mediaKey]; previewContent.innerHTML += `<div class="preview-item"><div class="preview-item-title">媒体: ${m.name}</div><div class="preview-item-desc">${m.description}</div></div>`; }
                if (userSelections.audience) { const a = simulatorData.audiences[userSelections.audience]; previewContent.innerHTML += `<div class="preview-item"><div class="preview-item-title">受众: ${a.name}</div><div class="preview-item-desc">${a.description}</div></div>`; }
            }
            
            function generatePlan() {
                if (!userSelections.strategy || !userSelections.media || !userSelections.audience) { showNotification('请先选择策略、媒体和受众'); return; }
                const resultContainer = document.getElementById('resultContainer'); const resultStats = document.getElementById('resultStats'); const resultDetails = document.getElementById('resultDetails'); const resultFeatures = document.getElementById('resultFeatures');
                const strategy = simulatorData.strategies[userSelections.strategy]; const mediaKey = userSelections.media === 'rmrb' ? 'rmr' : userSelections.media; const media = simulatorData.media[mediaKey]; const audience = simulatorData.audiences[userSelections.audience];
                const compatibility = media.compatibility[userSelections.strategy]; const preference = audience.preference[userSelections.strategy]; const overallScore = Math.round((compatibility + preference + strategy.impact) / 3);
                const planName = `${media.name} × ${strategy.name} × ${audience.name}青春化传播方案`;
                let planDetails = '';
                if (userSelections.strategy === 'voice') planDetails = `该方案聚焦于"语态转化"，建议${media.name}邀请青年专家或青年代表，将专业内容转化为青年易于理解的语言和故事。针对${audience.name}的特点，可采用短视频、动漫、直播对话等形式，建立情感连接和价值认同。`;
                else if (userSelections.strategy === 'tech') planDetails = `该方案聚焦于"技术驱动"，建议${media.name}运用AI生成、VR/AR、数据可视化等前沿技术，将内容转化为互动式、沉浸式体验。针对${audience.name}的特点，可开发H5互动产品、AI生成内容、虚拟展览等形式，提升参与感和传播力。`;
                else planDetails = `该方案聚焦于"IP焕新"，建议${media.name}重塑其文化IP，融入青年文化元素和表达方式。针对${audience.name}的特点，可通过年轻主创团队、社交媒体联动、代际对话等形式，实现品牌年轻化和代际共鸣。`;
                const features = [...strategy.features];
                if (userSelections.media === 'gmw') features.push('理论深度', '价值引领');
                if (userSelections.media === 'rmrb') features.push('权威发布', '全网传播');
                if (userSelections.media === 'cctv') features.push('国民级平台', '文化影响力');
                resultStats.innerHTML = `<div class="result-stat"><div class="result-stat-value">${overallScore}%</div><div class="result-stat-label">方案匹配度</div></div><div class="result-stat"><div class="result-stat-value">${compatibility}%</div><div class="result-stat-label">媒体适配度</div></div><div class="result-stat"><div class="result-stat-value">${preference}%</div><div class="result-stat-label">受众偏好度</div></div><div class="result-stat"><div class="result-stat-value">${strategy.impact}%</div><div class="result-stat-label">策略影响力</div></div>`;
                resultDetails.innerHTML = `<h4 style="color: #ff8c00; margin-bottom: 10px;">${planName}</h4><p>${planDetails}</p><p>该方案预计可提升年轻受众关注度${overallScore-20}%，增强内容互动性${compatibility-15}%，提升价值认同感${preference-10}%。</p>`;
                resultFeatures.innerHTML = ''; features.forEach(feature => { const f = document.createElement('div'); f.className = 'result-feature'; f.textContent = feature; resultFeatures.appendChild(f); });
                resultContainer.classList.add('active');
                setTimeout(() => { resultContainer.scrollIntoView({ behavior: 'smooth', block: 'center' }); }, 300);
                showNotification('传播方案已生成！');
            }
            
            function resetSimulator() {
                userSelections = { strategy: null, media: null, audience: null };
                document.querySelectorAll('.control-option').forEach(opt => opt.classList.remove('selected'));
                document.getElementById('resultContainer').classList.remove('active');
                updatePreview(); showNotification('模拟器已重置');
            }
            
            function darkenColor(color, percent) {
                const num = parseInt(color.replace("#", ""), 16); const amt = Math.round(2.55 * percent);
                const R = (num >> 16) - amt; const G = (num >> 8 & 0x00FF) - amt; const B = (num & 0x0000FF) - amt;
                return "#" + (0x1000000 + (R < 255 ? R < 1 ? 0 : R : 255) * 0x10000 + (G < 255 ? G < 1 ? 0 : G : 255) * 0x100 + (B < 255 ? B < 1 ? 0 : B : 255)).toString(16).slice(1);
            }
            
            function showNotification(message) {
                const notification = document.createElement('div');
                notification.style.cssText = `position:fixed; top:20px; right:20px; background:linear-gradient(135deg,#ff8c00,#ff4500); color:white; padding:12px 20px; border-radius:10px; box-shadow:0 5px 15px rgba(0,0,0,0.3); z-index:2000; font-weight:500; transform:translateX(100%); transition:transform 0.3s ease;`;
                notification.textContent = message; document.body.appendChild(notification);
                setTimeout(() => { notification.style.transform = 'translateX(0)'; }, 10);
                setTimeout(() => { notification.style.transform = 'translateX(100%)'; setTimeout(() => { document.body.removeChild(notification); }, 300); }, 2000);
            }
            
            function animateWord(wordElement) {
                wordElement.style.transform = 'scale(1.3) rotate(5deg)'; wordElement.style.transition = 'transform 0.3s ease';
                setTimeout(() => { wordElement.style.transform = 'scale(1) rotate(0deg)'; }, 300);
            }
            
                        // 返回按钮点击事件
            backButton.addEventListener('click', function() {
                // 跳转到指定页面
                window.location.href = "https://sdwhsy123.github.io/No.1/indexpage.html";
            });
            
            let lastScrollTop = 0;
            mainContainer.addEventListener('scroll', function() { const scrollTop = mainContainer.scrollTop; backButton.style.opacity = Math.min(0.9, 0.7 + (scrollTop / 200)); lastScrollTop = scrollTop; });
            
            createWordCloud(); createNetworkDiagram(); createBarChart(); initSimulator();
            setTimeout(() => { showNotification('欢迎探索2023-2024中央主流媒体青春化传播案例'); }, 800);
        });
    </script>
</body>
</html>
